# Snippet CORS per le risposte Django (API e webpush).
# Inserire nel VirtualHost *dopo* SetEnvIf Origin e *prima* delle RewriteRule.
# Usa ALLOWED_CORS_ORIGIN gi√† impostato da SetEnvIf Origin (solo per origin consentiti).

<LocationMatch "^/(api|webpush)">
    Header always set Access-Control-Allow-Origin "%{ALLOWED_CORS_ORIGIN}e" env=ALLOWED_CORS_ORIGIN
    Header always set Access-Control-Allow-Methods "GET, POST, OPTIONS, PATCH, PUT, DELETE" env=ALLOWED_CORS_ORIGIN
    Header always set Access-Control-Allow-Headers "Authorization, Content-Type, Accept, X-Requested-With" env=ALLOWED_CORS_ORIGIN
    Header always set Access-Control-Allow-Credentials "true" env=ALLOWED_CORS_ORIGIN
    Header always set Vary "Origin" env=ALLOWED_CORS_ORIGIN
</LocationMatch>
